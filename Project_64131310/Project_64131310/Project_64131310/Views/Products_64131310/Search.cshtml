@model IEnumerable<Project_64131310.Models.Project_64131310.Product>

<link rel="stylesheet" type="text/css" href="~/Content/assets/styles/categories_styles.css">
<link rel="stylesheet" type="text/css" href="~/Content/assets/styles/categories_responsive.css">

@{
    ViewBag.Title = "Kết quả tìm kiếm";
}
<div class="container" style="width = 100%; height:200px;">
</div>
<div class="container search_container">
    <!-- Chừa khoảng cách trên -->
    <h3 class="text-center">Kết quả tìm kiếm</h3>

    <!-- Hiển thị từ khóa tìm kiếm -->
    @if (!string.IsNullOrEmpty(ViewBag.Keyword))
    {
        <p class="text-muted text-center">Kết quả tìm kiếm cho từ khóa: <strong>@ViewBag.Keyword</strong></p>
    }

    <!-- Hiển thị thông báo nếu có -->
    @if (!string.IsNullOrEmpty(ViewBag.Message))
    {
        <div class="alert alert-warning text-center" role="alert">
            @ViewBag.Message
        </div>
    }

    <!-- Hiển thị danh sách sản phẩm -->
    @if (Model != null && Model.Any())
    {
        <div class="row">
            @foreach (var product in Model)
            {
                <div class="col-md-2 mb-4">
                    <div class="card h-100 shadow-sm">
                        <!-- Hình ảnh sản phẩm -->
                        <div style="width: 100%; height: 200px; overflow: hidden; position: relative; border-top-left-radius: 8px; border-top-right-radius: 8px;">
                            <img src="@product.Image" style="width: 100%; height: 100%; object-fit: cover; border-top-left-radius: 8px; border-top-right-radius: 8px;" alt="@product.Title">
                        </div>

                        <!-- Nội dung sản phẩm -->
                        <div class="card-body" style="padding: 16px;">
                            <h5 class="card-title text-truncate" style="font-size: 16px; font-weight: bold; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" title="@product.Title">
                                @product.Title
                            </h5>
                            <p class="card-text text-muted text-truncate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" title="@product.Description">
                                @product.Description
                            </p>
                            <p class="card-text">
                                <strong>Giá:</strong>
                                @if (product.PriceSale > 0)
                                {
                                    @String.Format("{0:C0}", product.PriceSale)
                                }
                                else
                                {
                                    @String.Format("{0:C0}", product.Price)
                                }
                            </p>
                        </div>

                        <!-- Footer của sản phẩm -->
                        <div class="card-footer text-center" style="padding: 10px;">
                            <a href="/chi-tiet/@product.Alias-p@(product.Id)" class="btn btn-primary">Xem chi tiết</a>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <p class="text-center text-muted mt-4">Không có sản phẩm nào được tìm thấy.</p>
    }

    <!-- Nút quay lại -->
    <div class="text-center mt-4">
        <a href="/" class="btn btn-secondary">Quay lại trang chủ</a>
    </div>
</div>
